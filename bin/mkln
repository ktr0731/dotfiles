#! /bin/zsh

DOTPATH=$HOME/dotfiles

echo "\$DOTPATH : $DOTPATH"
echo "Created dotfile symbolic links."

#
# Zsh
#
echo "Zsh"
for rcfile in "$DOTPATH"/zsh/*; do
  ln -sf "$rcfile" "$HOME/.${rcfile:t}"
  if [ $? -eq 0 ]; then
    print "    - $rcfile"
  fi
done
echo ""

#
# Vim
#
echo "Vim"
ln -sf "$DOTPATH"/vim/vim "$HOME"/.vim
ln -sf "$DOTPATH"/vim/vimrc "$HOME"/.vimrc
# for rcfile in "$DOTPATH"/vim/*; do
#   if [ "$rcfile" != "$DOTPATH"/vim/vim ]; then
#     ln -sf "$rcfile" "$HOME/.${rcfile:t}"
#     if [ $? -eq 0 ]; then
#       print "    - $rcfile"
#     fi
#   fi
# done
echo ""

# Neovim
echo "Neovim"
ln -sf "$DOTPATH"/vim/vim "$HOME"/.config/nvim
ln -sf "$DOTPATH"/vim/vimrc "$HOME"/.config/nvim/init.vim
if [ $? -eq 0 ]; then
print "    - init.vim"
fi

echo ""

#
# Git
#
echo "Git"
for rcfile in "$DOTPATH"/git/*; do

  ln -sf "$rcfile" "$HOME/.${rcfile:t}"
  if [ $? -eq 0 ]; then
    print "    - $rcfile"
  fi
done

#
# Others
#
echo "Others"
for rcfile in "$DOTPATH"/others/*; do

  ln -sf "$rcfile" "$HOME/.${rcfile:t}"
  if [ $? -eq 0 ]; then
    print "    - $rcfile"
  fi
done

#
# Prezto
#

# setopt EXTENDED_GLOB
# for rcfile in "${ZDOTDIR:-$HOME}"/.zprezto/runcoms/^README.md(.N); do
#   ln -sf "$rcfile" "${ZDOTDIR:-$HOME}/.${rcfile:t}"
# done
