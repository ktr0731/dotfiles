#!/bin/zsh

DOTPATH=$HOME/dotfiles

echo "\$DOTPATH : $DOTPATH"
echo "Created dotfile symbolic links."

directories=(zsh vim git others)

for dir in ${directories[@]}; do
  echo "$dir"

  for rcfile in "$DOTPATH"/"$dir"/*; do
    ln -sf "$rcfile" "$HOME/.${rcfile:t}"
    if [ $? -eq 0 ]; then
      print "    - $rcfile"
    fi

    if [ "$dir" = vim ]; then
      ln -sf "$DOTPATH"/"$dir"/vim "$HOME"/.config/nvim
      if [ $? -eq 0 ]; then
        print "    - $rcfile (Neovim)"
      fi

      ln -sf "$DOTPATH"/"$dir"/vimrc "$HOME"/.config/nvim/init.vim
      if [ $? -eq 0 ]; then
        print "    - $rcfile (Neovim)"
      fi
    fi
  done

  echo ""
done

#
# Prezto
#

# setopt EXTENDED_GLOB
# for rcfile in "${ZDOTDIR:-$HOME}"/.zprezto/runcoms/^README.md(.N); do
#   ln -sf "$rcfile" "${ZDOTDIR:-$HOME}/.${rcfile:t}"
# done
