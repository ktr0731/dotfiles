#!/bin/zsh

DOTPATH="$HOME"/dotfiles

echo "\$DOTPATH : $DOTPATH"
echo "Created dotfile symbolic links."

directories=(vim git others)

# Root
for dir in "${directories[@]}"; do
  echo "$dir"

  for rcfile in "$DOTPATH"/"$dir"/*; do
    ln -sf "$rcfile" "$HOME/.${rcfile:t}"
    if [ $? -eq 0 ]; then
      print "    - $rcfile"
    fi
  done
done

echo ""

# XDG config
directories=(vim)

if [ "$dir" = vim ]; then
  ln -s "$DOTPATH"/"$dir"/vim "$HOME"/.config/nvim > /dev/null 2>&1
  if [ $? -eq 0 ]; then
    print "    - nvim (Neovim)"
  fi
  ln -s "$DOTPATH"/"$dir"/vimrc "$HOME"/.config/nvim/init.vim > /dev/null 2>&1
  if [ $? -eq 0 ]; then
    print "    - init.vim (Neovim)"
  fi
fi
